!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).circleciApi={})}(this,function(h){"use strict";var e,t,r="https://circleci.com/api/v1.1",i="/project",n="/projects",c="/recent-builds",o="/user";function p(e){var t=e.type,r=void 0===t?h.GitType.GITHUB:t,n=e.owner,o=e.repo;return i+"/"+r+"/"+n+"/"+o}(e=h.GitType||(h.GitType={})).GITHUB="github",e.BITBUCKET="bitbucket",(t=h.BuildAction||(h.BuildAction={})).RETRY="retry",t.CANCEL="cancel";var f=function(){return(f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r}function l(i,s,c,a){return new(c||(c=Promise))(function(e,t){function r(e){try{o(a.next(e))}catch(e){t(e)}}function n(e){try{o(a.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new c(function(e){e(t.value)}).then(r,n)}o((a=a.apply(i,s||[])).next())})}function d(r,n){var o,i,s,e,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(s=2&t[0]?i.return:t[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,t[1])).done)return s;switch(i=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(s=0<(s=c.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){c.label=t[1];break}if(6===t[0]&&c.label<s[1]){c.label=s[1],s=t;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(t);break}s[2]&&c.ops.pop(),c.trys.pop();continue}t=n.call(r,c)}catch(e){t=[6,e],i=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var a=function(r,n){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];return r.apply(n,e)}},u=Object.prototype.toString;function v(e){return"[object Array]"===u.call(e)}function y(e){return null!==e&&"object"==typeof e}function m(e){return"[object Function]"===u.call(e)}function g(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),v(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var w={isArray:v,isArrayBuffer:function(e){return"[object ArrayBuffer]"===u.call(e)},isBuffer:function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:y,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===u.call(e)},isFile:function(e){return"[object File]"===u.call(e)},isBlob:function(e){return"[object Blob]"===u.call(e)},isFunction:m,isStream:function(e){return y(e)&&m(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:g,merge:function r(){var n={};function e(e,t){"object"==typeof n[t]&&"object"==typeof e?n[t]=r(n[t],e):n[t]=e}for(var t=0,o=arguments.length;t<o;t++)g(arguments[t],e);return n},deepMerge:function r(){var n={};function e(e,t){"object"==typeof n[t]&&"object"==typeof e?n[t]=r(n[t],e):n[t]="object"==typeof e?r({},e):e}for(var t=0,o=arguments.length;t<o;t++)g(arguments[t],e);return n},extend:function(r,e,n){return g(e,function(e,t){r[t]=n&&"function"==typeof e?a(e,n):e}),r},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function b(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var k=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(w.isURLSearchParams(t))n=t.toString();else{var o=[];w.forEach(t,function(e,t){null!=e&&(w.isArray(e)?t+="[]":e=[e],w.forEach(e,function(e){w.isDate(e)?e=e.toISOString():w.isObject(e)&&(e=JSON.stringify(e)),o.push(b(t)+"="+b(e))}))}),n=o.join("&")}if(n){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e};function R(){this.handlers=[]}R.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},R.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},R.prototype.forEach=function(t){w.forEach(this.handlers,function(e){null!==e&&t(e)})};var T=R,E=function(t,r,e){return w.forEach(e,function(e){t=e(t,r)}),t},O=function(e){return!(!e||!e.__CANCEL__)},C="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function A(){throw new Error("setTimeout has not been defined")}function H(){throw new Error("clearTimeout has not been defined")}var j=A,S=H;function B(t){if(j===setTimeout)return setTimeout(t,0);if((j===A||!j)&&setTimeout)return j=setTimeout,setTimeout(t,0);try{return j(t,0)}catch(e){try{return j.call(null,t,0)}catch(e){return j.call(this,t,0)}}}"function"==typeof C.setTimeout&&(j=setTimeout),"function"==typeof C.clearTimeout&&(S=clearTimeout);var x,q=[],N=!1,P=-1;function U(){N&&x&&(N=!1,x.length?q=x.concat(q):P=-1,q.length&&L())}function L(){if(!N){var e=B(U);N=!0;for(var t=q.length;t;){for(x=q,q=[];++P<t;)x&&x[P].run();P=-1,t=q.length}x=null,N=!1,function(t){if(S===clearTimeout)return clearTimeout(t);if((S===H||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(t);try{S(t)}catch(e){try{return S.call(null,t)}catch(e){return S.call(this,t)}}}(e)}}function I(e,t){this.fun=e,this.array=t}I.prototype.run=function(){this.fun.apply(null,this.array)};function D(){}var _=D,F=D,K=D,M=D,G=D,z=D,V=D;var J=C.performance||{},X=J.now||J.mozNow||J.msNow||J.oNow||J.webkitNow||function(){return(new Date).getTime()};var $=new Date;var Y={nextTick:function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];q.push(new I(e,t)),1!==q.length||N||B(L)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:_,addListener:F,once:K,off:M,removeListener:G,removeAllListeners:z,emit:V,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*X.call(J),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-$)/1e3}},Q=function(r,n){w.forEach(r,function(e,t){t!==n&&t.toUpperCase()===n.toUpperCase()&&(r[n]=e,delete r[t])})},W=function(e,t,r,n,o){var i,s,c,a,u,f=new Error(e);return s=t,c=r,a=n,u=o,(i=f).config=s,c&&(i.code=c),i.request=a,i.response=u,i.isAxiosError=!0,i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},i},Z=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ee=w.isStandardBrowserEnv()?function(){var r,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function i(e){var t=e;return n&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return r=i(window.location.href),function(e){var t=w.isString(e)?i(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0},te=w.isStandardBrowserEnv()?{write:function(e,t,r,n,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),w.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),w.isString(n)&&s.push("path="+n),w.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},re=function(d){return new Promise(function(l,p){var r=d.data,n=d.headers;w.isFormData(r)&&delete n["Content-Type"];var h=new XMLHttpRequest;if(d.auth){var e=d.auth.username||"",t=d.auth.password||"";n.Authorization="Basic "+btoa(e+":"+t)}if(h.open(d.method.toUpperCase(),k(d.url,d.params,d.paramsSerializer),!0),h.timeout=d.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var e,t,r,n,o,i,s,c,a,u="getAllResponseHeaders"in h?(e=h.getAllResponseHeaders(),o={},e&&w.forEach(e.split("\n"),function(e){if(n=e.indexOf(":"),t=w.trim(e.substr(0,n)).toLowerCase(),r=w.trim(e.substr(n+1)),t){if(o[t]&&0<=Z.indexOf(t))return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}}),o):null,f={data:d.responseType&&"text"!==d.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:u,config:d,request:h};i=l,s=p,!(a=(c=f).config.validateStatus)||a(c.status)?i(c):s(W("Request failed with status code "+c.status,c.config,null,c.request,c)),h=null}},h.onabort=function(){h&&(p(W("Request aborted",d,"ECONNABORTED",h)),h=null)},h.onerror=function(){p(W("Network Error",d,null,h)),h=null},h.ontimeout=function(){p(W("timeout of "+d.timeout+"ms exceeded",d,"ECONNABORTED",h)),h=null},w.isStandardBrowserEnv()){var o=te,i=(d.withCredentials||ee(d.url))&&d.xsrfCookieName?o.read(d.xsrfCookieName):void 0;i&&(n[d.xsrfHeaderName]=i)}if("setRequestHeader"in h&&w.forEach(n,function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete n[t]:h.setRequestHeader(t,e)}),d.withCredentials&&(h.withCredentials=!0),d.responseType)try{h.responseType=d.responseType}catch(e){if("json"!==d.responseType)throw e}"function"==typeof d.onDownloadProgress&&h.addEventListener("progress",d.onDownloadProgress),"function"==typeof d.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",d.onUploadProgress),d.cancelToken&&d.cancelToken.promise.then(function(e){h&&(h.abort(),p(e),h=null)}),void 0===r&&(r=null),h.send(r)})},ne={"Content-Type":"application/x-www-form-urlencoded"};function oe(e,t){!w.isUndefined(e)&&w.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var ie,se={adapter:(void 0!==Y&&"[object process]"===Object.prototype.toString.call(Y)?ie=re:"undefined"!=typeof XMLHttpRequest&&(ie=re),ie),transformRequest:[function(e,t){return Q(t,"Accept"),Q(t,"Content-Type"),w.isFormData(e)||w.isArrayBuffer(e)||w.isBuffer(e)||w.isStream(e)||w.isFile(e)||w.isBlob(e)?e:w.isArrayBufferView(e)?e.buffer:w.isURLSearchParams(e)?(oe(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):w.isObject(e)?(oe(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&e<300}};se.headers={common:{Accept:"application/json, text/plain, */*"}},w.forEach(["delete","get","head"],function(e){se.headers[e]={}}),w.forEach(["post","put","patch"],function(e){se.headers[e]=w.merge(ne)});var ce=se;function ae(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var ue=function(t){var e,r,n;return ae(t),t.baseURL&&(n=t.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(n))&&(t.url=(e=t.baseURL,(r=t.url)?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e)),t.headers=t.headers||{},t.data=E(t.data,t.headers,t.transformRequest),t.headers=w.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),w.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||ce.adapter)(t).then(function(e){return ae(t),e.data=E(e.data,e.headers,t.transformResponse),e},function(e){return O(e)||(ae(t),e&&e.response&&(e.response.data=E(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})},fe=function(t,r){r=r||{};var n={};return w.forEach(["url","method","params","data"],function(e){void 0!==r[e]&&(n[e]=r[e])}),w.forEach(["headers","auth","proxy"],function(e){w.isObject(r[e])?n[e]=w.deepMerge(t[e],r[e]):void 0!==r[e]?n[e]=r[e]:w.isObject(t[e])?n[e]=w.deepMerge(t[e]):void 0!==t[e]&&(n[e]=t[e])}),w.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(e){void 0!==r[e]?n[e]=r[e]:void 0!==t[e]&&(n[e]=t[e])}),n};function le(e){this.defaults=e,this.interceptors={request:new T,response:new T}}le.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=fe(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[ue,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},le.prototype.getUri=function(e){return e=fe(this.defaults,e),k(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},w.forEach(["delete","get","head","options"],function(r){le.prototype[r]=function(e,t){return this.request(w.merge(t||{},{method:r,url:e}))}}),w.forEach(["post","put","patch"],function(n){le.prototype[n]=function(e,t,r){return this.request(w.merge(r||{},{method:n,url:e,data:t}))}});var pe=le;function he(e){this.message=e}he.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},he.prototype.__CANCEL__=!0;var de=he;function ve(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new de(e),t(r.reason))})}ve.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},ve.source=function(){var t;return{token:new ve(function(e){t=e}),cancel:t}};var ye=ve;function me(e){var t=new pe(e),r=a(pe.prototype.request,t);return w.extend(r,pe.prototype,t),w.extend(r,t),r}var ge=me(ce);ge.Axios=pe,ge.create=function(e){return me(fe(ge.defaults,e))},ge.Cancel=de,ge.CancelToken=ye,ge.isCancel=O,ge.all=function(e){return Promise.all(e)},ge.spread=function(t){return function(e){return t.apply(null,e)}};var we=ge,be=ge;we.default=be;var ke=we;function Re(e,t){return t+(t.includes("?")?"&":"?")+"circle-token="+e}function Te(a,e){var t=this;void 0===e&&(e=r);var u={baseURL:e};return{get:function(o,i){return void 0===i&&(i={}),l(t,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return[4,(t=a,r=o,n=f({},u,i),ke.get(Re(t,r),n))];case 1:return[2,e.sent().data]}var t,r,n})})},post:function(i,s,c){return void 0===c&&(c={}),l(t,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return[4,(t=a,r=i,n=s,o=f({},u,c),ke.post(Re(t,r),n,o))];case 1:return[2,e.sent().data]}var t,r,n,o})})},delete:function(o,i){return void 0===i&&(i={}),l(t,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return[4,(t=a,r=o,n=f({},u,i),ke.delete(Re(t,r),n))];case 1:return[2,e.sent().data]}var t,r,n})})}}}function Ee(e,t,r,n){var o=n.circleHost,i=p(s(n,["circleHost"]))+"/"+t+"/"+r;return Te(e,o).post(i)}function Oe(e,t){var r=t.circleHost,n=t.vcs,o=t.options,i=void 0===o?{}:o,s=i.branch,c=void 0===s?"":s,a=i.newBuildOptions,u=void 0===a?{}:a,f=p(n)+(c?"/tree/"+c:"");return Te(e,r).post(f,u)}function Ce(n){void 0===n&&(n={});var e=Object.keys(n).filter(function(e){return void 0!==n[e]&&null!==n[e]}).reduce(function(e,t,r){return e.concat([t+"="+encodeURIComponent(n[t])])},[]).join("&");return e.length?"?"+e:""}function Ae(e,t,r){var n=r.circleHost,o=p(s(r,["circleHost"]))+"/"+t+"/artifacts";return Te(e,n).get(o)}function He(e,t){var r=t.vcs,n=t.options,o=void 0===n?{}:n,i=t.circleHost,s=o.branch,c=o.filter,a=p(r)+"/latest/artifacts"+Ce({branch:s,filter:c});return Te(e,i).get(a)}function je(e,t){var r=void 0===t?{}:t,n=r.limit,o=r.offset,i=r.circleHost,s=""+c+Ce({limit:n,offset:o});return Te(e,i).get(s)}function Se(e,t){var r=t.vcs,n=t.options,o=void 0===n?{}:n,i=t.circleHost,s=o.limit,c=o.offset,a=o.filter,u=o.branch,f=p(r)+(u?"/tree/"+u:""),l=Ce({limit:s,offset:c,filter:a});return Te(e,i).get(""+f+l)}function Be(e,t,r){var n=r.circleHost,o=p(s(r,["circleHost"]))+"/"+t;return Te(e,n).get(o)}function xe(e,t){return Te(e,(void 0===t?{}:t).circleHost).get(n)}function qe(e,t){var r=t.vcs,n=t.circleHost,o=p(r)+"/follow";return Te(e,n).post(o)}function Ne(e,t){var r=t.circleHost,n=p(s(t,["circleHost"]))+"/build-cache";return Te(e,r).delete(n)}function Pe(e,t){var r=t.circleHost,n=s(t,["circleHost"]);return Te(e,r).get(De(n))}function Ue(e,t,r){var n=r.circleHost,o=s(r,["circleHost"]);return Te(e,n).post(De(o),t,{headers:{"Content-Type":"application/json",Accepts:"application/json"}})}function Le(e,t,r){var n=r.circleHost,o=s(r,["circleHost"]);return Te(e,n).get(De(o,t))}function Ie(e,t,r){var n=r.circleHost,o=s(r,["circleHost"]);return Te(e,n).delete(De(o,t))}function De(e,t){return p(e)+"/checkout-key"+(t?"/"+t:"")}function _e(e,t){var r=t.circleHost,n=s(t,["circleHost"]);return Te(e,r).get(Ge(n))}function Fe(e,t,r){var n=r.circleHost,o=s(r,["circleHost"]);return Te(e,n).post(Ge(o),t,{headers:{"Content-Type":"application/json",Accepts:"application/json"}})}function Ke(e,t,r){var n=r.circleHost,o=s(r,["circleHost"]);return Te(e,n).get(Ge(o,t))}function Me(e,t,r){var n=r.circleHost,o=s(r,["circleHost"]);return Te(e,n).delete(Ge(o,t))}function Ge(e,t){return void 0===t&&(t=""),p(e)+"/envvar"+(t?"/"+t:"")}function ze(e,t,r){var n=r.circleHost,o=p(s(r,["circleHost"]))+"/"+t+"/tests";return Te(e,n).get(o)}function Ve(e,t,r,n){var o=(void 0===n?{}:n).circleHost,i=p(t)+"/ssh-key";return Te(e,o).post(i,r)}function Je(e,t,r){var n=(void 0===r?{}:r).circleHost;return Te(e,n).post("/user/heroku-key",t)}function Xe(e,t){return Te(e,(void 0===t?{}:t).circleHost).get("/me")}var $e=function(){function e(e){var t=e.token,r=e.vcs,n=void 0===r?{}:r,o=n.type,i=void 0===o?h.GitType.GITHUB:o,s=n.owner,c=void 0===s?"":s,a=n.repo,u=void 0===a?"":a,f=e.options,l=void 0===f?{}:f,p=e.circleHost;this.token=t,this.vcs={type:i,owner:c,repo:u},this.options=l,this.circleOptions={circleHost:p}}return e.prototype.defaults=function(){return{token:this.token,vcs:this.vcs,options:this.options}},e.prototype.addToken=function(e){return e+"?circle-token="+this.token},e.prototype.me=function(){return Xe(this.token,this.circleOptions)},e.prototype.projects=function(){return xe(this.token,this.circleOptions)},e.prototype.followProject=function(e){var t=this.createRequest(e),r=t.token,n=s(t,["token"]);return qe(r,f({},n,this.circleOptions))},e.prototype.recentBuilds=function(e,t){void 0===e&&(e={});var r=this.createRequest(f({},t||{},{options:f({},t?t.options:{},e)})),n=r.token,o=r.options;return je(n,f({},o,this.circleOptions))},e.prototype.builds=function(e,t){var r=this.createRequest(f({},t||{},{options:f({},t?t.options:{},e||{})})),n=r.token,o=s(r,["token"]);return Se(n,f({},o,this.circleOptions))},e.prototype.buildsFor=function(e,t,r){void 0===e&&(e="master"),void 0===t&&(t={});var n=this.createRequest(f({},r,{options:f({},r?r.options:{},t,{branch:e})})),o=n.token,i=s(n,["token"]);return Se(o,f({},i,this.circleOptions))},e.prototype.build=function(e,t){var r=this.createRequest(f({},t||{},{options:f({},t?t.options:{})})),n=r.token,o=r.vcs;return Be(n,e,f({},o,this.circleOptions))},e.prototype.artifacts=function(e,t){var r=this.createRequest(t),n=r.token,o=r.vcs;return Ae(n,e,f({},o,this.circleOptions))},e.prototype.latestArtifacts=function(e,t){void 0===t&&(t={});var r=this.createRequest(f({},t,{options:f({},t.options,e||{})})),n=r.token,o=s(r,["token"]);return He(n,f({},o,this.circleOptions))},e.prototype.retry=function(e,t){return this.performAction(f({},this.createRequest(t),this.circleOptions),e,h.BuildAction.RETRY)},e.prototype.cancel=function(e,t){return this.performAction(f({},this.createRequest(t),this.circleOptions),e,h.BuildAction.CANCEL)},e.prototype.triggerBuild=function(e){var t=this.createRequest(e),r=t.token,n=s(t,["token"]);return Oe(r,f({},n,this.circleOptions))},e.prototype.triggerBuildFor=function(e,t){void 0===e&&(e="master");var r=this.createRequest(f({},t,{options:f({},t?t.options:{},{branch:e})})),n=r.token,o=s(r,["token"]);return Oe(n,f({},o,this.circleOptions))},e.prototype.clearCache=function(e){var t=this.createRequest(e),r=t.token,n=t.vcs;return Ne(r,f({},n,this.circleOptions))},e.prototype.listEnvVars=function(e){var t=this.createRequest(e),r=t.token,n=t.vcs;return _e(r,f({},n,this.circleOptions))},e.prototype.addEnvVar=function(e,t){var r=this.createRequest(t),n=r.token,o=r.vcs;return Fe(n,e,f({},o,this.circleOptions))},e.prototype.getEnvVar=function(e,t){var r=this.createRequest(t),n=r.token,o=r.vcs;return Ke(n,e,f({},o,this.circleOptions))},e.prototype.deleteEnvVar=function(e,t){var r=this.createRequest(t),n=r.token,o=r.vcs;return Me(n,e,f({},o,this.circleOptions))},e.prototype.listCheckoutKeys=function(e){var t=this.createRequest(e),r=t.token,n=t.vcs;return Pe(r,f({},n,this.circleOptions))},e.prototype.addCheckoutKey=function(e,t){var r=this.createRequest(t),n=r.token,o=r.vcs;return Ue(n,{type:e},f({},o,this.circleOptions))},e.prototype.getCheckoutKey=function(e,t){var r=this.createRequest(t),n=r.token,o=r.vcs;return Le(n,e,f({},o,this.circleOptions))},e.prototype.deleteCheckoutKey=function(e,t){var r=this.createRequest(t),n=r.token,o=r.vcs;return Ie(n,e,f({},o,this.circleOptions))},e.prototype.getTestMetadata=function(e,t){var r=this.createRequest(t),n=r.token,o=r.vcs;return ze(n,e,f({},o,this.circleOptions))},e.prototype.addSSHKey=function(e,t){var r=this.createRequest(t);return Ve(r.token,r.vcs,e,this.circleOptions)},e.prototype.addHerokuKey=function(e,t){return Je(this.createRequest(t).token,e,this.circleOptions)},e.prototype.createRequest=function(e){void 0===e&&(e={});var t={token:e.token||this.token,options:f({},this.options,e.options),vcs:f({},this.vcs,e.vcs)};return function(e){var t=e.token,r=e.vcs,n=r.type,o=r.owner,i=r.repo;if(!t)throw new Error("CircleCiApi - No token was provided");var s=[];if(n||s.push("type"),o||s.push("owner"),i||s.push("repo"),s.length)throw new Error("CircleCiApi - Missing options "+s)}(t),t},e.prototype.performAction=function(e,t,r){var n=e.token,o=e.vcs,i=e.circleHost;return Ee(n,t,r,f({},o,{circleHost:i}))},e}();h.API_ALL_PROJECTS=n,h.API_BASE=r,h.API_ME="/me",h.API_PROJECT=i,h.API_RECENT_BUILDS=c,h.API_USER=o,h.CircleCI=$e,h.addEnv=Fe,h.addHerokuKey=Je,h.addSSHKey=Ve,h.clearCache=Ne,h.createCheckoutKey=Ue,h.createVcsUrl=p,h.deleteCheckoutKey=Ie,h.deleteEnv=Me,h.getAllProjects=xe,h.getBuildArtifacts=Ae,h.getBuildSummaries=Se,h.getCheckoutKey=Le,h.getCheckoutKeys=Pe,h.getEnv=Ke,h.getFullBuild=Be,h.getGitType=function(e){var t=e.trim().replace(/ /g,"").toLowerCase();return t===h.GitType.BITBUCKET?t:h.GitType.GITHUB},h.getLatestArtifacts=He,h.getMe=Xe,h.getRecentBuilds=je,h.getTestMetadata=ze,h.listEnv=_e,h.postBuildActions=Ee,h.postFollowNewProject=qe,h.postTriggerNewBuild=Oe,Object.defineProperty(h,"__esModule",{value:!0})});
//# sourceMappingURL=circleci-api.umd.min.js.map
